<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Automated Bilingual Content System</title>
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/custom.css">
    
    <!-- Initialize language preference before content loads to prevent flash -->
    <script>
        (function() {
            const savedLang = localStorage.getItem('blog-language') || 'en';
            document.documentElement.setAttribute('data-lang', savedLang);
        })();
    </script>
</head>
<body>
    <header>
        <nav>
            <a href="/" class="site-title">Marc Liu</a>
            <button id="theme-toggle" aria-label="Toggle theme">
                <img id="sun-icon" class="theme-icon" src="/assets/icons/sun.svg" alt="Sun Icon">
                <img id="moon-icon" class="theme-icon" src="/assets/icons/moon.svg" alt="Moon Icon" style="display: none;">
            </button>
        </nav>
    </header>

    <h1 id="automated-bilingual-content-system">Automated Bilingual Content System</h1>

<p>This guide explains the automated bilingual content processing system using GitHub Actions and Jekyll for your blog.</p>

<h2 id="-the-solution-github-actions-automation">ğŸ¯ The Solution: GitHub Actions Automation</h2>

<p>The system automatically converts user-friendly <code class="language-plaintext highlighter-rouge">:::lang:en</code> syntax to Jekyll-compatible HTML divs using GitHub Actions, solving the GitHub Pages plugin restriction problem.</p>

<h2 id="-how-it-works">âœ¨ How It Works</h2>

<h3 id="1-write-content-naturally">1. <strong>Write Content Naturally</strong></h3>
<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span>
<span class="na">layout</span><span class="pi">:</span> <span class="s">post</span>
<span class="na">title</span><span class="pi">:</span> <span class="s2">"</span><span class="s">My</span><span class="nv"> </span><span class="s">Bilingual</span><span class="nv"> </span><span class="s">Post"</span>
<span class="na">bilingual</span><span class="pi">:</span> <span class="no">true</span>
<span class="nn">---</span>

Introduction text appears in both languages.

:::lang:en
English content here.
<span class="p">-</span> Easy to write
<span class="p">-</span> Clean syntax
:::lang:end

:::lang:zh
ä¸­æ–‡å†…å®¹åœ¨è¿™é‡Œã€‚
<span class="p">-</span> æ˜“äºç¼–å†™
<span class="p">-</span> æ¸…æ´è¯­æ³•
:::lang:end

Conclusion appears in both languages.
</code></pre></div></div>

<h3 id="2-github-actions-processes-automatically">2. <strong>GitHub Actions Processes Automatically</strong></h3>
<p>When you push to GitHub, the workflow:</p>
<ul>
  <li>ğŸ” Finds all markdown files with <code class="language-plaintext highlighter-rouge">bilingual: true</code></li>
  <li>ğŸ”„ Converts <code class="language-plaintext highlighter-rouge">:::lang:en</code> syntax to HTML divs</li>
  <li>ğŸ“ Commits the processed files back to the repository</li>
  <li>ğŸš€ Triggers GitHub Pages to rebuild with proper HTML</li>
</ul>

<h3 id="3-result-perfect-html-structure">3. <strong>Result: Perfect HTML Structure</strong></h3>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"bilingual-post"</span> <span class="na">markdown=</span><span class="s">"1"</span><span class="nt">&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"lang-content lang-en"</span> <span class="na">data-lang=</span><span class="s">"en"</span> <span class="na">markdown=</span><span class="s">"1"</span><span class="nt">&gt;</span>
English content here.
- Easy to write
- Clean syntax
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"lang-content lang-zh"</span> <span class="na">data-lang=</span><span class="s">"zh"</span> <span class="na">markdown=</span><span class="s">"1"</span><span class="nt">&gt;</span>
ä¸­æ–‡å†…å®¹åœ¨è¿™é‡Œã€‚
- æ˜“äºç¼–å†™
- æ¸…æ´è¯­æ³•
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<h2 id="-getting-started">ğŸš€ Getting Started</h2>

<h3 id="step-1-enable-the-workflow">Step 1: Enable the Workflow</h3>
<p>The GitHub Actions workflow is already set up in <code class="language-plaintext highlighter-rouge">.github/workflows/process-bilingual.yml</code>. It automatically runs when you push markdown files.</p>

<h3 id="step-2-create-bilingual-content">Step 2: Create Bilingual Content</h3>
<ol>
  <li>Add <code class="language-plaintext highlighter-rouge">bilingual: true</code> to your postâ€™s front matter</li>
  <li>Use the <code class="language-plaintext highlighter-rouge">:::lang:en</code> / <code class="language-plaintext highlighter-rouge">:::lang:zh</code> / <code class="language-plaintext highlighter-rouge">:::lang:end</code> syntax</li>
  <li>Push to GitHub</li>
  <li>The workflow automatically processes your content!</li>
</ol>

<h3 id="step-3-language-switching">Step 3: Language Switching</h3>
<p>The bilingual system includes:</p>
<ul>
  <li><strong>Main language toggle</strong>: Top-right corner of posts</li>
  <li><strong>Comment section toggle</strong>: Separate toggle for comment instructions</li>
  <li><strong>Automatic language detection</strong>: Remembers user preference</li>
</ul>

<h2 id="-syntax-reference">ğŸ“ Syntax Reference</h2>

<h3 id="basic-structure">Basic Structure</h3>
<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span>
<span class="na">bilingual</span><span class="pi">:</span> <span class="no">true</span>  <span class="c1"># Required for processing</span>
<span class="nn">---</span>

Shared content (appears in both languages)

:::lang:en
English-only content
:::lang:end

:::lang:zh
Chinese-only content
:::lang:end

More shared content
</code></pre></div></div>

<h3 id="supported-languages">Supported Languages</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">:::lang:en</code> - English content</li>
  <li><code class="language-plaintext highlighter-rouge">:::lang:zh</code> - Chinese content</li>
  <li><code class="language-plaintext highlighter-rouge">:::lang:end</code> - End language section</li>
</ul>

<h3 id="nesting-and-markdown">Nesting and Markdown</h3>
<p>All standard markdown works inside language blocks:</p>
<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>:::lang:en
<span class="gu">## English Heading</span>
<span class="p">
-</span> List items
<span class="p">-</span> <span class="gs">**Bold text**</span>
<span class="p">-</span> <span class="p">[</span><span class="nv">Links</span><span class="p">](</span><span class="sx">https://example.com</span><span class="p">)</span>
<span class="gt">
&gt; Blockquotes work too!</span>

<span class="p">```</span><span class="nl">code blocks```
</span><span class="sb">:::lang:end
</span></code></pre></div></div>

<h2 id="-technical-details">ğŸ”§ Technical Details</h2>

<h3 id="github-actions-workflow">GitHub Actions Workflow</h3>
<ul>
  <li><strong>Trigger</strong>: Push to main branch with markdown file changes</li>
  <li><strong>Process</strong>: Finds bilingual files, processes syntax, commits results</li>
  <li><strong>Safety</strong>: Creates backups, restores on failure</li>
  <li><strong>Performance</strong>: Only processes files with <code class="language-plaintext highlighter-rouge">:::lang:</code> syntax</li>
</ul>

<h3 id="file-processing">File Processing</h3>
<ul>
  <li><strong>In-place editing</strong>: Modifies original files directly</li>
  <li><strong>Preserves formatting</strong>: Maintains markdown structure</li>
  <li><strong>Error handling</strong>: Restores backups on processing errors</li>
  <li><strong>Commit messages</strong>: Descriptive, includes <code class="language-plaintext highlighter-rouge">[skip ci]</code> to prevent loops</li>
</ul>

<h3 id="jekyll-integration">Jekyll Integration</h3>
<ul>
  <li><strong>GitHub Pages compatible</strong>: No custom plugins required</li>
  <li><strong>CSS/JS ready</strong>: Works with existing bilingual styling</li>
  <li><strong>SEO friendly</strong>: Proper HTML structure for search engines</li>
</ul>

<h2 id="-styling-and-behavior">ğŸ¨ Styling and Behavior</h2>

<h3 id="css-classes-generated">CSS Classes Generated</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">.bilingual-post</code> - Container for bilingual content</li>
  <li><code class="language-plaintext highlighter-rouge">.lang-content</code> - Individual language sections</li>
  <li><code class="language-plaintext highlighter-rouge">.lang-en</code> / <code class="language-plaintext highlighter-rouge">.lang-zh</code> - Language-specific styling</li>
  <li><code class="language-plaintext highlighter-rouge">data-lang</code> attributes for JavaScript targeting</li>
</ul>

<h3 id="javascript-integration">JavaScript Integration</h3>
<p>The system works with existing JavaScript:</p>
<ul>
  <li>Language toggle functionality</li>
  <li>User preference storage</li>
  <li>Smooth transitions between languages</li>
</ul>

<h2 id="-customization">ğŸ›  Customization</h2>

<h3 id="adding-new-languages">Adding New Languages</h3>
<p>To support additional languages:</p>

<ol>
  <li><strong>Update the preprocessor</strong> (<code class="language-plaintext highlighter-rouge">scripts/bilingual_preprocessor.rb</code>):
    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">elsif</span> <span class="n">marker</span> <span class="o">==</span> <span class="s1">':::lang:fr'</span>
  <span class="n">start_language_section</span><span class="p">(</span><span class="s1">'fr'</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Update CSS</strong> (<code class="language-plaintext highlighter-rouge">assets/css/custom.css</code>):
    <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">html</span><span class="o">[</span><span class="nt">data-lang</span><span class="o">=</span><span class="s1">"fr"</span><span class="o">]</span> <span class="nc">.lang-fr</span> <span class="p">{</span>
 <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span> <span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Update JavaScript</strong> (<code class="language-plaintext highlighter-rouge">assets/js/main.js</code>):
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Add French language support</span>
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="workflow-customization">Workflow Customization</h3>
<p>Edit <code class="language-plaintext highlighter-rouge">.github/workflows/process-bilingual.yml</code> to:</p>
<ul>
  <li>Change trigger conditions</li>
  <li>Modify processing paths</li>
  <li>Add additional validation steps</li>
  <li>Customize commit messages</li>
</ul>

<h2 id="-troubleshooting">ğŸ” Troubleshooting</h2>

<h3 id="common-issues">Common Issues</h3>

<p><strong>Workflow not running?</strong></p>
<ul>
  <li>Check that files have <code class="language-plaintext highlighter-rouge">bilingual: true</code> in front matter</li>
  <li>Ensure youâ€™re pushing to the main branch</li>
  <li>Verify the workflow file is in <code class="language-plaintext highlighter-rouge">.github/workflows/</code></li>
</ul>

<p><strong>Content not processing?</strong></p>
<ul>
  <li>Confirm <code class="language-plaintext highlighter-rouge">:::lang:</code> syntax is correct</li>
  <li>Check for typos in language codes</li>
  <li>Ensure <code class="language-plaintext highlighter-rouge">:::lang:end</code> markers are present</li>
</ul>

<p><strong>Language switching not working?</strong></p>
<ul>
  <li>Verify HTML structure was generated correctly</li>
  <li>Check browser console for JavaScript errors</li>
  <li>Ensure CSS classes are properly applied</li>
</ul>

<h3 id="debug-mode">Debug Mode</h3>
<p>Enable debug output by adding <code class="language-plaintext highlighter-rouge">debug: true</code> to your postâ€™s front matter. This will show processing details in the workflow logs.</p>

<h2 id="-benefits">ğŸ“Š Benefits</h2>

<h3 id="for-content-creators">For Content Creators</h3>
<ul>
  <li>âœ… <strong>Natural writing experience</strong>: No HTML required</li>
  <li>âœ… <strong>Real-time preview</strong>: Standard markdown editors work</li>
  <li>âœ… <strong>Error prevention</strong>: Automatic syntax validation</li>
  <li>âœ… <strong>Version control friendly</strong>: Clean diffs in git</li>
</ul>

<h3 id="for-developers">For Developers</h3>
<ul>
  <li>âœ… <strong>GitHub Pages compatible</strong>: No plugin restrictions</li>
  <li>âœ… <strong>Automated processing</strong>: Zero manual intervention</li>
  <li>âœ… <strong>Extensible</strong>: Easy to add new languages</li>
  <li>âœ… <strong>Reliable</strong>: Robust error handling and backups</li>
</ul>

<h3 id="for-readers">For Readers</h3>
<ul>
  <li>âœ… <strong>Seamless experience</strong>: Smooth language switching</li>
  <li>âœ… <strong>Fast loading</strong>: Optimized HTML structure</li>
  <li>âœ… <strong>Accessible</strong>: Proper semantic markup</li>
  <li>âœ… <strong>Mobile friendly</strong>: Responsive design</li>
</ul>

<h2 id="-next-steps">ğŸš€ Next Steps</h2>

<ol>
  <li><strong>Try it out</strong>: Create a test post with bilingual content</li>
  <li><strong>Customize styling</strong>: Modify CSS for your design preferences</li>
  <li><strong>Add languages</strong>: Extend support for additional languages</li>
  <li><strong>Monitor workflow</strong>: Check GitHub Actions for processing logs</li>
</ol>

<p>The automated bilingual system makes it effortless to create multilingual content while maintaining full compatibility with GitHub Pages! ğŸ‰</p>


    <footer>
        <p>Â© 2025 Marc Liu</p>
    </footer>

    <script src="/assets/js/main.js"></script>
</body>
</html>
