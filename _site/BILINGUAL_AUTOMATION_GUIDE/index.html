<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marc Liu</title>
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/custom.css">
    
    <!-- Initialize language preference before content loads to prevent flash -->
    <script>
        (function() {
            const savedLang = localStorage.getItem('blog-language') || 'en';
            document.documentElement.setAttribute('data-lang', savedLang);
        })();
    </script>
</head>
<body>
    <header>
        <nav>
            <a href="/" class="site-title">Marc Liu</a>
            <button id="theme-toggle" aria-label="Toggle theme">
                <img id="sun-icon" class="theme-icon" src="/assets/icons/sun.svg" alt="Sun Icon">
                <img id="moon-icon" class="theme-icon" src="/assets/icons/moon.svg" alt="Moon Icon" style="display: none;">
            </button>
        </nav>
    </header>

    <div class="bilingual-post">

  <h1 id="automated-bilingual-content-system">Automated Bilingual Content System</h1>

  <p>This guide explains the automated bilingual content processing system using GitHub Actions and Jekyll for your blog.</p>

  <h2 id="the-solution-github-actions-automation">ğŸ¯ The Solution: GitHub Actions Automation</h2>

  <p>The system automatically converts user-friendly `</p>
  <h2 id="how-it-works">âœ¨ How It Works</h2>

  <h3 id="write-content-naturally">1. <strong>Write Content Naturally</strong></h3>
  <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span>
<span class="na">layout</span><span class="pi">:</span> <span class="s">post</span>
<span class="na">title</span><span class="pi">:</span> <span class="s2">"</span><span class="s">My</span><span class="nv"> </span><span class="s">Bilingual</span><span class="nv"> </span><span class="s">Post"</span>
<span class="na">bilingual</span><span class="pi">:</span> <span class="no">true</span>
<span class="nn">---</span>

Introduction text appears in both languages.<span class="sb">


</span><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"lang-content lang-en"</span> <span class="na">data-lang=</span><span class="s">"en"</span> <span class="na">markdown=</span><span class="s">"1"</span><span class="nt">&gt;</span>

English content here.
<span class="p">-</span> Easy to write
<span class="p">-</span> Clean syntax<span class="sb">


</span><span class="nt">&lt;/div&gt;</span><span class="sb">


</span><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"lang-content lang-zh"</span> <span class="na">data-lang=</span><span class="s">"zh"</span> <span class="na">markdown=</span><span class="s">"1"</span><span class="nt">&gt;</span>

ä¸­æ–‡å†…å®¹åœ¨è¿™é‡Œã€‚
<span class="p">-</span> æ˜“äºç¼–å†™
<span class="p">-</span> æ¸…æ´è¯­æ³•<span class="sb">


</span><span class="nt">&lt;/div&gt;</span>

Conclusion appears in both languages.
</code></pre></div>  </div>

  <h3 id="github-actions-processes-automatically">2. <strong>GitHub Actions Processes Automatically</strong></h3>
  <p>When you push to GitHub, the workflow:</p>
  <ul>
    <li>ğŸ” Finds all markdown files with <code class="language-plaintext highlighter-rouge">bilingual: true</code></li>
    <li>ğŸ”„ Converts `- ğŸ“ Commits the processed files back to the repository</li>
    <li>ğŸš€ Triggers GitHub Pages to rebuild with proper HTML</li>
  </ul>

  <h3 id="result-perfect-html-structure">3. <strong>Result: Perfect HTML Structure</strong></h3>
  <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"bilingual-post"</span> <span class="na">markdown=</span><span class="s">"1"</span><span class="nt">&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"lang-content lang-en"</span> <span class="na">data-lang=</span><span class="s">"en"</span> <span class="na">markdown=</span><span class="s">"1"</span><span class="nt">&gt;</span>
English content here.
- Easy to write
- Clean syntax
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"lang-content lang-zh"</span> <span class="na">data-lang=</span><span class="s">"zh"</span> <span class="na">markdown=</span><span class="s">"1"</span><span class="nt">&gt;</span>
ä¸­æ–‡å†…å®¹åœ¨è¿™é‡Œã€‚
- æ˜“äºç¼–å†™
- æ¸…æ´è¯­æ³•
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;/div&gt;</span>
</code></pre></div>  </div>

  <h2 id="getting-started">ğŸš€ Getting Started</h2>

  <h3 id="step-1-enable-the-workflow">Step 1: Enable the Workflow</h3>
  <p>The GitHub Actions workflow is already set up in <code class="language-plaintext highlighter-rouge">.github/workflows/process-bilingual.yml</code>. It automatically runs when you push markdown files.</p>

  <h3 id="step-2-create-bilingual-content">Step 2: Create Bilingual Content</h3>
  <ol>
    <li>Add <code class="language-plaintext highlighter-rouge">bilingual: true</code> to your postâ€™s front matter</li>
    <li>Use the `3. Push to GitHub</li>
    <li>The workflow automatically processes your content!</li>
  </ol>

  <h3 id="step-3-language-switching">Step 3: Language Switching</h3>
  <p>The bilingual system includes:</p>
  <ul>
    <li><strong>Main language toggle</strong>: Top-right corner of posts</li>
    <li><strong>Comment section toggle</strong>: Separate toggle for comment instructions</li>
    <li><strong>Automatic language detection</strong>: Remembers user preference</li>
  </ul>

  <h2 id="syntax-reference">ğŸ“ Syntax Reference</h2>

  <h3 id="basic-structure">Basic Structure</h3>
  <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span>
<span class="na">bilingual</span><span class="pi">:</span> <span class="no">true</span>  <span class="c1"># Required for processing</span>
<span class="nn">---</span>

Shared content (appears in both languages)<span class="sb">


</span><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"lang-content lang-en"</span> <span class="na">data-lang=</span><span class="s">"en"</span> <span class="na">markdown=</span><span class="s">"1"</span><span class="nt">&gt;</span>

English-only content<span class="sb">


</span><span class="nt">&lt;/div&gt;</span><span class="sb">


</span><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"lang-content lang-zh"</span> <span class="na">data-lang=</span><span class="s">"zh"</span> <span class="na">markdown=</span><span class="s">"1"</span><span class="nt">&gt;</span>

Chinese-only content<span class="sb">


</span><span class="nt">&lt;/div&gt;</span>

More shared content
</code></pre></div>  </div>

  <h3 id="supported-languages">Supported Languages</h3>
  <ul>
    <li><code class="language-plaintext highlighter-rouge">- </code>- `
      <h3 id="nesting-and-markdown">Nesting and Markdown</h3>
      <p>All standard markdown works inside language blocks:
```markdown</p>
    </li>
  </ul>

  <div class="lang-content lang-en" data-lang="en">

    <h2 id="english-heading">English Heading</h2>

    <ul>
      <li>List items</li>
      <li><strong>Bold text</strong></li>
      <li><a href="https://example.com">Links</a></li>
    </ul>

    <blockquote>
      <p>Blockquotes work too!</p>
    </blockquote>

    <p><code class="language-plaintext highlighter-rouge">code blocks</code></p>

  </div>
  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
## ğŸ”§ Technical Details

### GitHub Actions Workflow
- **Trigger**: Push to main branch with markdown file changes
- **Process**: Finds bilingual files, processes syntax, commits results
- **Safety**: Creates backups, restores on failure
- **Performance**: Only processes files with `
### File Processing
- **In-place editing**: Modifies original files directly
- **Preserves formatting**: Maintains markdown structure
- **Error handling**: Restores backups on processing errors
- **Commit messages**: Descriptive, includes `[skip ci]` to prevent loops

### Jekyll Integration
- **GitHub Pages compatible**: No custom plugins required
- **CSS/JS ready**: Works with existing bilingual styling
- **SEO friendly**: Proper HTML structure for search engines

## ğŸ¨ Styling and Behavior

### CSS Classes Generated
- `.bilingual-post` - Container for bilingual content
- `.lang-content` - Individual language sections
- `.lang-en` / `.lang-zh` - Language-specific styling
- `data-lang` attributes for JavaScript targeting

### JavaScript Integration
The system works with existing JavaScript:
- Language toggle functionality
- User preference storage
- Smooth transitions between languages

## ğŸ›  Customization

### Adding New Languages
To support additional languages:

1. **Update the preprocessor** (`scripts/bilingual_preprocessor.rb`):
```ruby
elsif marker == '  start_language_section('fr')
</code></pre></div>  </div>

  <ol>
    <li><strong>Update CSS</strong> (<code class="language-plaintext highlighter-rouge">assets/css/custom.css</code>):
      <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">html</span><span class="o">[</span><span class="nt">data-lang</span><span class="o">=</span><span class="s1">"fr"</span><span class="o">]</span> <span class="nc">.lang-fr</span> <span class="p">{</span>
 <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span> <span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>      </div>
    </li>
    <li><strong>Update JavaScript</strong> (<code class="language-plaintext highlighter-rouge">assets/js/main.js</code>):
      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Add French language support</span>
</code></pre></div>      </div>
    </li>
  </ol>

  <h3 id="workflow-customization">Workflow Customization</h3>
  <p>Edit <code class="language-plaintext highlighter-rouge">.github/workflows/process-bilingual.yml</code> to:</p>
  <ul>
    <li>Change trigger conditions</li>
    <li>Modify processing paths</li>
    <li>Add additional validation steps</li>
    <li>Customize commit messages</li>
  </ul>

  <h2 id="troubleshooting">ğŸ” Troubleshooting</h2>

  <h3 id="common-issues">Common Issues</h3>

  <p><strong>Workflow not running?</strong></p>
  <ul>
    <li>Check that files have <code class="language-plaintext highlighter-rouge">bilingual: true</code> in front matter</li>
    <li>Ensure youâ€™re pushing to the main branch</li>
    <li>Verify the workflow file is in <code class="language-plaintext highlighter-rouge">.github/workflows/</code></li>
  </ul>

  <p><strong>Content not processing?</strong></p>
  <ul>
    <li>Confirm `- Check for typos in language codes</li>
    <li>Ensure `
<strong>Language switching not working?</strong></li>
    <li>Verify HTML structure was generated correctly</li>
    <li>Check browser console for JavaScript errors</li>
    <li>Ensure CSS classes are properly applied</li>
  </ul>

  <h3 id="debug-mode">Debug Mode</h3>
  <p>Enable debug output by adding <code class="language-plaintext highlighter-rouge">debug: true</code> to your postâ€™s front matter. This will show processing details in the workflow logs.</p>

  <h2 id="benefits">ğŸ“Š Benefits</h2>

  <h3 id="for-content-creators">For Content Creators</h3>
  <ul>
    <li>âœ… <strong>Natural writing experience</strong>: No HTML required</li>
    <li>âœ… <strong>Real-time preview</strong>: Standard markdown editors work</li>
    <li>âœ… <strong>Error prevention</strong>: Automatic syntax validation</li>
    <li>âœ… <strong>Version control friendly</strong>: Clean diffs in git</li>
  </ul>

  <h3 id="for-developers">For Developers</h3>
  <ul>
    <li>âœ… <strong>GitHub Pages compatible</strong>: No plugin restrictions</li>
    <li>âœ… <strong>Automated processing</strong>: Zero manual intervention</li>
    <li>âœ… <strong>Extensible</strong>: Easy to add new languages</li>
    <li>âœ… <strong>Reliable</strong>: Robust error handling and backups</li>
  </ul>

  <h3 id="for-readers">For Readers</h3>
  <ul>
    <li>âœ… <strong>Seamless experience</strong>: Smooth language switching</li>
    <li>âœ… <strong>Fast loading</strong>: Optimized HTML structure</li>
    <li>âœ… <strong>Accessible</strong>: Proper semantic markup</li>
    <li>âœ… <strong>Mobile friendly</strong>: Responsive design</li>
  </ul>

  <h2 id="next-steps">ğŸš€ Next Steps</h2>

  <ol>
    <li><strong>Try it out</strong>: Create a test post with bilingual content</li>
    <li><strong>Customize styling</strong>: Modify CSS for your design preferences</li>
    <li><strong>Add languages</strong>: Extend support for additional languages</li>
    <li><strong>Monitor workflow</strong>: Check GitHub Actions for processing logs</li>
  </ol>

  <p>The automated bilingual system makes it effortless to create multilingual content while maintaining full compatibility with GitHub Pages! ğŸ‰</p>

</div>


    <footer>
        <p>Â© 2025 Marc Liu</p>
    </footer>

    <script src="/assets/js/main.js"></script>
</body>
</html>
